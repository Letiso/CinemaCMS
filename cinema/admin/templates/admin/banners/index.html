{% extends 'admin/admin_layout.html' %}
{% load i18n %}
{% load static %}

{% block stylesheets %}
<link rel="stylesheet" href="{% static 'admin/css/custom_delete_checkbox.css' %}">
<link rel="stylesheet" href="{% static 'plugins/toastr/toastr.css' %}">
<style>
    .hidden {
        display: none;
    }
</style>

{% endblock %}

{% block banners %}
    active
{% endblock %}
x
{% block current_page %}
    Баннеры
{% endblock %}
{% block path %}
    <li class="breadcrumb-item active">
        Баннеры
    </li>
{% endblock %}


{% block content %}
    <form enctype="multipart/form-data" method="POST">
        {% csrf_token %}
        <div class="card mx-4">
          <div class="card-header d-flex mt-2">
            <h4 class="col-11 text-center">
                На главной верх
            </h4>
            <a class="nav-link ml-auto" data-toggle="collapse" href="#collapseTopBanner" role="button" aria-expanded="false" aria-controls="collapseTopBanner">
            <i class="fas fa-bars" style="font-size: 22px;"></i>
            </a>
          </div>
            <div class="collapse bg-light" id="collapseTopBanner">
                <div class="card-body mx-5 mt-1 mb-3">
                    {% include './top_banners.html' %}
                </div>
                <!-- /.card-body -->
            </div>
        </div>
        <!-- /.card -->
        <div class="card mx-4">
          <div class="card-header d-flex mt-2">
            <h4 class="col-11 text-center">
                На главной фон
            </h4>
            <a class="nav-link ml-auto" data-toggle="collapse" href="#collapseBackgroundImage" role="button" aria-expanded="false" aria-controls="collapseBackgroundImage">
            <i class="fas fa-bars" style="font-size: 22px;"></i>
            </a>
          </div>
            <div class="collapse bg-light" id="collapseBackgroundImage">
                <div class="card-body mx-5 mt-1 mb-3">
                    {% include './background_image.html' %}
                </div>
                <!-- /.card-body -->
            </div>
        </div>
        <!-- /.card -->
        <div class="card mx-4">
          <div class="card-header d-flex mt-2">
            <h4 class="col-11 text-center">
                На главной Новости | Акции
            </h4>
            <a class="nav-link ml-auto" data-toggle="collapse" href="#collapseNewsBanner" role="button" aria-expanded="false" aria-controls="collapseNewsBanner">
            <i class="fas fa-bars" style="font-size: 22px;"></i>
            </a>
          </div>
            <div class="collapse bg-light" id="collapseNewsBanner">
                <div class="card-body mx-5 mt-1 mb-3">
                    {% include './news_banners.html' %}
                </div>
                <!-- /.card-body -->
            </div>
        </div>
        <!-- /.card -->
    </form>
{% endblock %}

{% block scripts %}
    <script src="{% static 'admin/js/dynamic_formset.js' %}"></script>
    <script src="{% static 'plugins/toastr/toastr.min.js' %}"></script>
    <script src="{% static 'admin/js/custom_toastr.js' %}"></script>

    <script src="{% static 'admin/js/dynamic_image_select.js' %}"></script>
    <script>
        //read data from django context, then init required sizes labels.
        // REQUIRED_SIZES also needed for the front-end image validation at 'static/admin/js/dynamic_image_select.js'
        const REQUIRED_SIZES = JSON.parse('{{ required_sizes|safe }}')
        initRequiredSizeLabels()
    </script>

    {# Translate option 'seconds' #}
    <script>
        let dataIntervalOptions = $('select[name*="banners-data_interval"] option')
        dataIntervalOptions.each(function () {
            let option = $(this)
            option.text(option.text() + " {% trans ' s' %}")
        })
    </script>
{% endblock %}